#### @transaction 失效原因
- 没有被spring 管理
- 方法不是public 
- 自身调用问题
    - 加一层专门用来处理业务逻辑的类，用大的流程控制方法调用
    - 获取到代理类调用代理类的方法
``` 
((UseAssetNoticeServiceImpl)AopContext.currentProxy()).useAssetCallbackSucc(assetPackageInvest, assetPackage, investInfo, assetApplyOrder, loanContract ,productDefineSnapInfo, ifManualApply);

@Transactional(rollbackFor = Exception.class)
    public void useAssetCallbackSucc(AssetPackageInvest assetPackageInvest, AssetPackage assetPackage, P2PTUserInvest.InvestInfo investInfo,
     
```

如果是自己实现的 自身调用自身的代理类就会用循环依赖的问题。