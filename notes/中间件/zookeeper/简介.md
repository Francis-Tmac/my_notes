是一个分布式协调框架，主要是用来解决分布式应用中经常遇到的数据管理问题：
- 统一命名服务
- 状态同步服务
- 集群管理
- 分布式应用配置项的管理

zookeeper = 文件系统 + 监听通知机制

- 文件系统
  - 与linux 的文件系统有什么区别：zookeeper 的文件系统非叶子节点也可以存储数据。
任何节点都可以存储数据。
- 监听通知机制
  - 客户端注册监听它关心的目录节点，当目录节点发生变化（数据改变，被删除，子目录节点增加删除）时，zookeeper 会通知客户端。
  - zookeeper 只通知事件，不通知变动的内容。
    - 不一定需要这些数据，1. 浪费带宽 2. 把服务端设计轻量化


### 集群选举原理
- 对从节点进行写操作时，从节点会转发请求给主节点进行写操作。
- 所有写请求发到 leader 后都会生成一个全局唯一的 zxid ,然后想follower 发送

#### ZAB 原子广播协议
- 集群leader 选举原理（myid,zxid）
- 集群消息广播（二阶段提交）

#### question
- 为什么Zookeeper 集群的机器数一般都是奇数
- 从 CAP 角度分析 Zookeeper 与 Spring cloud Eureka 的区别
- Zookeeper 的ZAB 协议
- Zookeeper 的脑裂是怎么回事

